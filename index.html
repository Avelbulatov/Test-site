<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ï–¥–∏–Ω—Å—Ç–≤–æ. –î–æ–±–ª–µ—Å—Ç—å. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏. –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω</title>
    <!-- Favicon: —Ñ–ª–∞–≥ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–∞ (–∑–µ–ª—ë–Ω–æ-–±–µ–ª–æ-–∫—Ä–∞—Å–Ω—ã–π) –≤ —Ñ–æ—Ä–º–∞—Ç–µ SVG -->
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 9 6'%3E%3Crect width='9' height='2' fill='%23009657'/%3E%3Crect y='2' width='9' height='2' fill='%23FFFFFF'/%3E%3Crect y='4' width='9' height='2' fill='%23D52B1E'/%3E%3C/svg%3E">
    <style>
        /* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π, –∫—Ä–æ–º–µ –Ω–µ–±–æ–ª—å—à–∏—Ö –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–π) */
        * {
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        body {
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
            transition: background-color 0.3s, color 0.3s;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        /* –ö–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–π —Ä–µ–∂–∏–º */
        body.contrast {
            background-color: black;
            color: yellow;
        }
        body.contrast button {
            background-color: yellow;
            color: black;
            border: 2px solid white;
        }
        body.contrast .subtitle {
            background-color: black;
            color: yellow;
            border-color: yellow;
        }
        /* –ö—Ä—É–ø–Ω—ã–π —Ç–µ–∫—Å—Ç */
        body.large-text {
            font-size: 1.5em;
        }
        body.large-text button {
            font-size: 1.2em;
            padding: 15px 20px;
        }
        .header {
            text-align: center;
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 20px;
            padding: 10px;
            background: rgba(0,0,0,0.1);
            border-radius: 10px;
        }
        .accessibility-panel {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-bottom: 30px;
        }
        button {
            padding: 12px 24px;
            font-size: 1.1em;
            border: none;
            border-radius: 8px;
            background-color: #4CAF50;
            color: white;
            cursor: pointer;
            transition: transform 0.1s, background-color 0.2s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            min-width: 150px;
        }
        button:hover {
            background-color: #45a049;
        }
        button:focus-visible {
            outline: 3px solid #ff8c00;
            outline-offset: 2px;
        }
        .page {
            display: none;
            padding: 20px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        body.contrast .page {
            background: black;
            border: 2px solid yellow;
        }
        .page.active {
            display: block;
        }
        .page-title {
            font-size: 1.8em;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
        }
        .page-text {
            font-size: 1.2em;
            line-height: 1.6;
            margin-bottom: 30px;
            white-space: pre-line;
        }
        .nav-button {
            display: block;
            width: 100%;
            max-width: 300px;
            margin: 10px auto;
            background-color: #008CBA;
        }
        .nav-button:hover {
            background-color: #007bb5;
        }
        .subtitle {
            padding: 15px;
            background-color: #eee;
            border: 2px solid #aaa;
            border-radius: 10px;
            font-size: 1.2em;
            text-align: left;
            margin-top: 20px;
            min-height: 70px;
        }
        .footer {
            margin-top: auto;
        }
        .main-menu-button {
            background-color: #f44336;
        }
        .main-menu-button:hover {
            background-color: #da190b;
        }
        /* –ö–Ω–æ–ø–∫–∞ –æ–∑–≤—É—á–∏–≤–∞–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
        #speakPageBtn {
            background-color: #9b59b6;
        }
        #speakPageBtn:hover {
            background-color: #8e44ad;
        }
        /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ä–µ—á–∏ */
        .speech-support {
            font-size: 0.8em;
            color: #666;
            text-align: center;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="header">–ü–æ–¥–≤–∏–≥–∏ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –Ω–∞—Ä–æ–¥–æ–≤ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–∞</div>

    <!-- –ü–∞–Ω–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ -->
    <div class="accessibility-panel">
        <button id="contrastBtn">–ö–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–π —Ä–µ–∂–∏–º</button>
        <button id="largeFontBtn">–ö—Ä—É–ø–Ω—ã–π —Ç–µ–∫—Å—Ç</button>
        <button id="screenReaderBtn">–≠–∫—Ä–∞–Ω–Ω—ã–π –¥–∏–∫—Ç–æ—Ä (–≤–∫–ª)</button>
        <button id="subtitlesBtn">–°—É–±—Ç–∏—Ç—Ä—ã</button>
        <button id="signBtn">–°—É—Ä–¥–æ–ø–µ—Ä–µ–≤–æ–¥</button>
        <button id="speakPageBtn">üîä –û–∑–≤—É—á–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É</button>
    </div>

    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü (—Å—Ç–µ–∫) -->
    <div id="pageStack">
        <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
        <div id="mainPage" class="page active">
            <div class="page-title">–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</div>
            <button class="nav-button" data-page="past">–ü–æ–¥–≤–∏–≥–∏ –ø—Ä–æ—à–ª–æ–≥–æ</button>
            <button class="nav-button" data-page="present">–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å</button>
            <button class="nav-button" data-page="connection">–°–≤—è–∑—å –ø–æ–∫–æ–ª–µ–Ω–∏–π</button>
            <button class="nav-button" data-page="about">–û –ø—Ä–æ–µ–∫—Ç–µ</button>
        </div>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–ü–æ–¥–≤–∏–≥–∏ –ø—Ä–æ—à–ª–æ–≥–æ" -->
        <div id="pastPage" class="page">
            <div class="page-title">–ü–æ–¥–≤–∏–≥–∏ –ø—Ä–æ—à–ª–æ–≥–æ</div>
            <div class="page-text">
                –í –≥–æ–¥—ã –í–µ–ª–∏–∫–æ–π –û—Ç–µ—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –≤–æ–π–Ω—ã —Ç—Ä—É–∂–µ–Ω–∏–∫–∏ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∏ –Ω–∞ —Ñ—Ä–æ–Ω—Ç —Ç–µ—Ö–Ω–∏–∫—É,
                –ø—Ä–æ–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ –∏ —Ç—ë–ø–ª—ã–µ –≤–µ—â–∏. –ö–∞–∑–∞–Ω—Å–∫–∏–π –∞–≤–∏–∞—Ü–∏–æ–Ω–Ω—ã–π –∑–∞–≤–æ–¥ –≤—ã–ø—É—Å–∫–∞–ª —Å–∞–º–æ–ª—ë—Ç—ã –ü–µ-2,
                –¢—É-2. –†–∞–±–æ—á–∏–µ –¥–Ω–∏ –¥–ª–∏–ª–∏—Å—å –ø–æ 12-14 —á–∞—Å–æ–≤. –ú–Ω–æ–≥–∏–µ —É—Ö–æ–¥–∏–ª–∏ –¥–æ–±—Ä–æ–≤–æ–ª—å—Ü–∞–º–∏ –Ω–∞ —Ñ—Ä–æ–Ω—Ç
                –∏ —Å–æ–≤–µ—Ä—à–∞–ª–∏ –≥–µ—Ä–æ–∏—á–µ—Å–∫–∏–µ –ø–æ–¥–≤–∏–≥–∏. –ï–¥–∏–Ω—Å—Ç–≤–æ –Ω–∞—Ä–æ–¥–æ–≤ —Ä–µ—Å–ø—É–±–ª–∏–∫–∏ –ø–æ–º–æ–≥–ª–æ –≤—ã—Å—Ç–æ—è—Ç—å.
            </div>
            <button class="nav-button main-menu-button" data-page="main">–ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
        </div>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å" -->
        <div id="presentPage" class="page">
            <div class="page-title">–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</div>
            <div class="page-text">
                –°–µ–≥–æ–¥–Ω—è –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω ‚Äî –æ–¥–∏–Ω –∏–∑ –ª–∏–¥–µ—Ä–æ–≤ –∏–Ω–Ω–æ–≤–∞—Ü–∏–π –≤ –†–æ—Å—Å–∏–∏. –ö–ê–ú–ê–ó, ¬´–ê–ª–∞–±—É–≥–∞¬ª,
                IT-–ø–∞—Ä–∫, –Ω–æ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –≤ –Ω–µ—Ñ—Ç–µ—Ö–∏–º–∏–∏. –ú–æ–ª–æ–¥—ã–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ç—Ä–∞–¥–∏—Ü–∏–∏
                —Ç—Ä—É–¥–æ–≤–æ–π –¥–æ–±–ª–µ—Å—Ç–∏. –†–µ—Å–ø—É–±–ª–∏–∫–∞ —Å–ª–∞–≤–∏—Ç—Å—è –º–µ–∂–Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –º–∏—Ä–æ–º –∏ —Å–æ–≥–ª–∞—Å–∏–µ–º.
            </div>
            <button class="nav-button main-menu-button" data-page="main">–ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
        </div>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–°–≤—è–∑—å –ø–æ–∫–æ–ª–µ–Ω–∏–π" -->
        <div id="connectionPage" class="page">
            <div class="page-title">–°–≤—è–∑—å –ø–æ–∫–æ–ª–µ–Ω–∏–π</div>
            <div class="page-text">
                –î—É—Ö –µ–¥–∏–Ω—Å—Ç–≤–∞ –∏ –¥–æ–±–ª–µ—Å—Ç–∏, —Ä–æ–∂–¥—ë–Ω–Ω—ã–π –≤ —Å—É—Ä–æ–≤—ã–µ –≥–æ–¥—ã, –∂–∏–≤—ë—Ç –∏ —Å–µ–≥–æ–¥–Ω—è.
                –í–µ—Ç–µ—Ä–∞–Ω—ã –ø–µ—Ä–µ–¥–∞—é—Ç –æ–ø—ã—Ç –º–æ–ª–æ–¥—ë–∂–∏, —Å–æ–∑–¥–∞—é—Ç—Å—è –ø–æ–∏—Å–∫–æ–≤—ã–µ –æ—Ç—Ä—è–¥—ã,
                —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø–∞–º—è—Ç—å –æ –≥–µ—Ä–æ—è—Ö. –¢—Ä—É–¥–æ–≤—ã–µ –¥–∏–Ω–∞—Å—Ç–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ –∑–∞–≤–æ–¥–∞—Ö,
                –º–æ–ª–æ–¥—ã–µ –∏–Ω–∂–µ–Ω–µ—Ä—ã —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –Ω–æ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, –æ–ø–∏—Ä–∞—è—Å—å –Ω–∞ –Ω–∞—Å–ª–µ–¥–∏–µ –ø—Ä–µ–¥–∫–æ–≤.
            </div>
            <button class="nav-button main-menu-button" data-page="main">–ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
        </div>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–û –ø—Ä–æ–µ–∫—Ç–µ" -->
        <div id="aboutPage" class="page">
            <div class="page-title">–û –ø—Ä–æ–µ–∫—Ç–µ</div>
            <div class="page-text">
                –ü—Ä–æ–µ–∫—Ç ¬´–ï–¥–∏–Ω—Å—Ç–≤–æ. –î–æ–±–ª–µ—Å—Ç—å. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏. –î–æ—Å—Ç—É–ø–Ω–æ –∫–∞–∂–¥–æ–º—É¬ª —Å–æ–∑–¥–∞–Ω, —á—Ç–æ–±—ã —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å
                –æ –ø–æ–¥–≤–∏–≥–∞—Ö –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è—Ö –Ω–∞—Ä–æ–¥–æ–≤ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–∞.

                –§—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏:
                ‚Ä¢ –≠–∫—Ä–∞–Ω–Ω—ã–π –¥–∏–∫—Ç–æ—Ä (–æ–∑–≤—É—á–∏–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –ø—Ä–∏ Tab, —á—Ç–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü)
                ‚Ä¢ –°—É–±—Ç–∏—Ç—Ä—ã
                ‚Ä¢ –ö–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–π —Ä–µ–∂–∏–º
                ‚Ä¢ –ö—Ä—É–ø–Ω—ã–π —Ç–µ–∫—Å—Ç
            </div>
            <button class="nav-button main-menu-button" data-page="main">–ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
        </div>
    </div>

    <!-- –°—É–±—Ç–∏—Ç—Ä—ã -->
    <div class="subtitle" id="subtitleDisplay">–°—É–±—Ç–∏—Ç—Ä—ã: –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å</div>
    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–¥–µ—Ä–∂–∫–µ —Ä–µ—á–∏ (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏) -->
    <div class="speech-support" id="speechSupportInfo"></div>

    <script>
        (function() {
            // –°–æ—Å—Ç–æ—è–Ω–∏—è
            let screenReaderEnabled = true;
            let contrastMode = false;
            let largeTextMode = false;

            // –≠–ª–µ–º–µ–Ω—Ç—ã
            const pages = {
                main: document.getElementById('mainPage'),
                past: document.getElementById('pastPage'),
                present: document.getElementById('presentPage'),
                connection: document.getElementById('connectionPage'),
                about: document.getElementById('aboutPage')
            };

            const subtitleEl = document.getElementById('subtitleDisplay');
            const screenReaderBtn = document.getElementById('screenReaderBtn');
            const contrastBtn = document.getElementById('contrastBtn');
            const largeFontBtn = document.getElementById('largeFontBtn');
            const subtitlesBtn = document.getElementById('subtitlesBtn');
            const signBtn = document.getElementById('signBtn');
            const speakPageBtn = document.getElementById('speakPageBtn');
            const speechSupportInfo = document.getElementById('speechSupportInfo');

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Web Speech API
            const speechSupported = 'speechSynthesis' in window;
            speechSupportInfo.textContent = speechSupported 
                ? 'üîä –†–µ—á—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è' 
                : '‚ö†Ô∏è –†–µ—á—å –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤–∞—à–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É–±—Ç–∏—Ç—Ä—ã.';

            // –§—É–Ω–∫—Ü–∏—è –æ–∑–≤—É—á–∏–≤–∞–Ω–∏—è —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é
            function speakText(text) {
                console.log('–û–∑–≤—É—á–∏–≤–∞–Ω–∏–µ:', text);
                // –í—Å–µ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è–µ–º —Å—É–±—Ç–∏—Ç—Ä—ã
                updateSubtitles('–û–∑–≤—É—á–∏–≤–∞–Ω–∏–µ: ' + text.substring(0, 100) + (text.length > 100 ? '‚Ä¶' : ''));
                
                if (!screenReaderEnabled) {
                    console.log('–≠–∫—Ä–∞–Ω–Ω—ã–π –¥–∏–∫—Ç–æ—Ä –≤—ã–∫–ª—é—á–µ–Ω');
                    return;
                }
                if (!speechSupported) {
                    console.warn('–†–µ—á—å –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è');
                    return;
                }
                // –û—Ç–º–µ–Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Ä–µ—á–∏, —á—Ç–æ–±—ã –Ω–µ –Ω–∞–∫–ª–∞–¥—ã–≤–∞–ª–æ—Å—å
                window.speechSynthesis.cancel();
                
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'ru-RU';
                utterance.rate = 1.0;
                utterance.pitch = 1.0;
                utterance.volume = 1.0;
                
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
                utterance.onerror = (event) => {
                    console.error('–û—à–∏–±–∫–∞ —Å–∏–Ω—Ç–µ–∑–∞ —Ä–µ—á–∏:', event.error);
                    updateSubtitles('–û—à–∏–±–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è —Ä–µ—á–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞.');
                };
                
                // –í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∂–µ—Å—Ç –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞.
                // –ú—ã —É–∂–µ –Ω–∞—Ö–æ–¥–∏–º—Å—è –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ –∫–ª–∏–∫–∞, –ø–æ—ç—Ç–æ–º—É –ø—Ä–æ–±–ª–µ–º –±—ã—Ç—å –Ω–µ –¥–æ–ª–∂–Ω–æ.
                try {
                    window.speechSynthesis.speak(utterance);
                } catch (e) {
                    console.error('–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ speak():', e);
                    updateSubtitles('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ä–µ—á—å.');
                }
            }

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É–±—Ç–∏—Ç—Ä–æ–≤
            function updateSubtitles(message) {
                subtitleEl.textContent = '–°—É–±—Ç–∏—Ç—Ä—ã: ' + message;
            }

            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            function showPage(pageId) {
                // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
                Object.values(pages).forEach(page => page.classList.remove('active'));
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é
                if (pages[pageId]) {
                    pages[pageId].classList.add('active');
                    
                    // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—Å—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –æ–∑–≤—É—á–∏–≤–∞–Ω–∏—è –∏ —Å—É–±—Ç–∏—Ç—Ä–æ–≤
                    let pageText = '';
                    const textElement = pages[pageId].querySelector('.page-text');
                    if (textElement) {
                        pageText = textElement.innerText;
                    }
                    
                    if (pageId === 'main') {
                        updateSubtitles('–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é');
                        // –ù–µ –æ–∑–≤—É—á–∏–≤–∞–µ–º —Ç–µ–∫—Å—Ç –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—Ç–æ–ª—å–∫–æ –∫–Ω–æ–ø–∫–∏)
                    } else {
                        // –û–∑–≤—É—á–∏–≤–∞–µ–º —Ç–µ–∫—Å—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –µ—Å–ª–∏ –¥–∏–∫—Ç–æ—Ä –≤–∫–ª—é—á—ë–Ω
                        if (screenReaderEnabled) {
                            speakText(pageText);
                        } else {
                            updateSubtitles('–°—Ç—Ä–∞–Ω–∏—Ü–∞: ' + pageId + '. ' + pageText.substring(0, 100) + '...');
                        }
                    }
                    
                    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–æ–∫—É—Å –Ω–∞ –ø–µ—Ä–≤—É—é –∫–Ω–æ–ø–∫—É –≤ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
                    const firstButton = pages[pageId].querySelector('button');
                    if (firstButton) {
                        firstButton.focus();
                    }
                }
            }

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–æ–∫—É—Å–∞ –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö
            function handleFocus(event) {
                const target = event.target;
                if (target.tagName === 'BUTTON' && screenReaderEnabled) {
                    speakText(target.textContent);
                }
            }

            // --- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ ---

            // –ì–ª–æ–±–∞–ª—å–Ω—ã–π —Å–ª—É—à–∞—Ç–µ–ª—å —Ñ–æ–∫—É—Å–∞
            document.addEventListener('focusin', handleFocus);

            // –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫–Ω–æ–ø–∫–∞–º —Å –∞—Ç—Ä–∏–±—É—Ç–æ–º data-page
            document.addEventListener('click', (e) => {
                const btn = e.target.closest('button[data-page]');
                if (btn) {
                    const page = btn.getAttribute('data-page');
                    showPage(page);
                }
            });

            // --- –ö–Ω–æ–ø–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ ---

            // –ö–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–π —Ä–µ–∂–∏–º
            contrastBtn.addEventListener('click', () => {
                contrastMode = !contrastMode;
                document.body.classList.toggle('contrast', contrastMode);
                const msg = '–ö–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–π —Ä–µ–∂–∏–º ' + (contrastMode ? '–≤–∫–ª—é—á—ë–Ω' : '–≤—ã–∫–ª—é—á–µ–Ω');
                speakText(msg);
                updateSubtitles(msg);
            });

            // –ö—Ä—É–ø–Ω—ã–π —Ç–µ–∫—Å—Ç
            largeFontBtn.addEventListener('click', () => {
                largeTextMode = !largeTextMode;
                document.body.classList.toggle('large-text', largeTextMode);
                const msg = '–ö—Ä—É–ø–Ω—ã–π —Ç–µ–∫—Å—Ç ' + (largeTextMode ? '–≤–∫–ª—é—á—ë–Ω' : '–≤—ã–∫–ª—é—á–µ–Ω');
                speakText(msg);
                updateSubtitles(msg);
            });

            // –≠–∫—Ä–∞–Ω–Ω—ã–π –¥–∏–∫—Ç–æ—Ä
            screenReaderBtn.addEventListener('click', () => {
                screenReaderEnabled = !screenReaderEnabled;
                screenReaderBtn.textContent = '–≠–∫—Ä–∞–Ω–Ω—ã–π –¥–∏–∫—Ç–æ—Ä (' + (screenReaderEnabled ? '–≤–∫–ª' : '–≤—ã–∫–ª') + ')';
                const msg = '–≠–∫—Ä–∞–Ω–Ω—ã–π –¥–∏–∫—Ç–æ—Ä ' + (screenReaderEnabled ? '–≤–∫–ª—é—á—ë–Ω' : '–≤—ã–∫–ª—é—á–µ–Ω');
                speakText(msg);
                updateSubtitles(msg);
            });

            // –°—É–±—Ç–∏—Ç—Ä—ã (–¥–µ–º–æ)
            subtitlesBtn.addEventListener('click', () => {
                const msg = '–°—É–±—Ç–∏—Ç—Ä—ã: —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ';
                updateSubtitles('–¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ');
                speakText('–°—É–±—Ç–∏—Ç—Ä—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã');
            });

            // –°—É—Ä–¥–æ–ø–µ—Ä–µ–≤–æ–¥ (–¥–µ–º–æ)
            signBtn.addEventListener('click', () => {
                const msg = '–û—Ç–∫—Ä—ã—Ç —Å—É—Ä–¥–æ–ø–µ—Ä–µ–≤–æ–¥';
                speakText(msg);
                updateSubtitles(msg);
            });

            // –ö–Ω–æ–ø–∫–∞ "–û–∑–≤—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É"
            speakPageBtn.addEventListener('click', () => {
                // –ù–∞—Ö–æ–¥–∏–º –∞–∫—Ç–∏–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
                const activePage = document.querySelector('.page.active');
                if (activePage) {
                    const textElement = activePage.querySelector('.page-text');
                    if (textElement) {
                        speakText(textElement.innerText);
                    } else {
                        // –ï—Å–ª–∏ –Ω–µ—Ç —Ç–µ–∫—Å—Ç–∞ (–≥–ª–∞–≤–Ω–∞—è), –æ–∑–≤—É—á–∏–≤–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –∫–Ω–æ–ø–∫–∏?
                        const title = activePage.querySelector('.page-title');
                        if (title) {
                            speakText(title.innerText + '. –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é.');
                        }
                    }
                }
            });

            // –°—Ç–∞–≤–∏–º —Ñ–æ–∫—É—Å –Ω–∞ –ø–µ—Ä–≤—É—é –∫–Ω–æ–ø–∫—É –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
            window.addEventListener('load', () => {
                const firstMainBtn = document.querySelector('#mainPage .nav-button');
                if (firstMainBtn) {
                    firstMainBtn.focus();
                }
                showPage('main');
                
                // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –ø—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ª–∏ –±—Ä–∞—É–∑–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Ä–µ—á—å.
                // –ï—Å–ª–∏ speechSynthesis.speak –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∂–µ—Å—Ç–∞, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ—Ç –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "–û–∑–≤—É—á–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É".
                if (speechSupported) {
                    // –ù–µ–±–æ–ª—å—à–æ–π —Ç–µ—Å—Ç: –µ—Å–ª–∏ –≥–æ–ª–æ—Å–∞ –µ—â—ë –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã, –æ–Ω–∏ –ø–æ–¥–≥—Ä—É–∑—è—Ç—Å—è.
                    if (window.speechSynthesis.getVoices().length === 0) {
                        window.speechSynthesis.addEventListener('voiceschanged', () => {
                            console.log('–ì–æ–ª–æ—Å–∞ –∑–∞–≥—Ä—É–∂–µ–Ω—ã');
                        });
                    }
                }
            });
        })();
    </script>
</body>
</html>
